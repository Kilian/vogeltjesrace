---
let sponsors = await Astro.glob("../pages/sponsors/*.md");
let title = {
  platinum: "Platinum sponsor",
  goud: "Gouden sponsors",
  zilver: "Zilveren sponsors",
  brons: "Bronzen sponsors",
  spandoek: "Sponsors",
  logo: "Logosponsors",
  geen: "Ondersteund door",
};

const platinumsponsor = sponsors.filter((x) => x.frontmatter.type === "platinum");
const goldsponsor = sponsors.filter((x) => x.frontmatter.type === "goud");
const silversponsor = sponsors.filter((x) => x.frontmatter.type === "zilver");
const bronzesponsor = sponsors.filter((x) => x.frontmatter.type === "brons");
const spandoek = sponsors.filter((x) => x.frontmatter.type === "spandoek");
const bedrijfssponsor = sponsors.filter((x) => x.frontmatter.type === "logo");
const geen = sponsors.filter((x) => x.frontmatter.type === "geen");

const inOrder = [platinumsponsor, goldsponsor, silversponsor, bronzesponsor, [...spandoek, ...bedrijfssponsor], geen];
---

<div class="sponsorwrap">
  <h2>Onze sponsors</h2>
  {
    inOrder.map((x) =>
      x.length ? (
        <div class="logos" data-type={x[0].frontmatter.type}>
          <h3>{title[x[0].frontmatter.type]}</h3>
          {x.map((p) => (
            <a href={p.frontmatter.url}><img src={p.frontmatter.logo} alt={p.frontmatter.name} /></a>
          ))}
        </div>
      ) : null
    )
  }
  <p>
    Wilt u de vogeltjesrace ook sponsoren? Lees meer over onze <a href="#sponsoring">sponsoringsmogelijkheden</a>.
  </p>
</div>

<style>
  .sponsorwrap {
    text-align: center;
    margin: 5rem 0;

    background: #fff;
    padding: 4rem 0;
    color: #2d4475;
  }
  .sponsorwrap a {
    font-weight: bold;
    color: #a6b22a;
    text-decoration: underline;
  }
  .sponsorwrap a:hover,
  .sponsorwrap a:focus {
    color: #f08535;
  }
  .sponsorwrap h2 {
    text-align: center;
    margin: 0 0 1rem;
    font-size: 3rem;
    max-width: 100%;
    font-family: Boogaloo;
    color: #f08535;
    text-align: center;
  }
  .sponsorwrap h3 {
    text-align: center;
    margin: 0 0 1rem;
    font-size: 2rem;
    max-width: 100%;
    font-family: Boogaloo;
    color: #a6b22a;
    text-align: center;
  }
  .logos {
    padding: 2rem 2rem 4rem;
    gap: 1rem;
    max-width: 80rem;
    margin: 0 auto;
    text-wrap: balance;
  }
  .logos a {
    font-size:0;
  }
  .logos img {
    vertical-align: middle;
    display: inline-block;
    max-width: 180px;
    max-height: 50px;
    margin: 1rem;
  }

  :is([data-type="platinum"], [data-type="goud"], [data-type="zilver"], [data-type="brons"]) img {
    max-width: 320px;
    max-height: 100px;
  }
</style>
